# JSON

JSON (JavaScript Object Notation) - это легкий формат обмена данными, основанный на синтаксисе объектов JavaScript. Он используется для передачи и хранения структурированных данных между различными компонентами системы, включая клиентские и серверные приложения.

<br/>

JSON предоставляет удобный способ представления данных в виде текста, который может быть легко интерпретирован и создан как на стороне сервера, так и на стороне клиента. Вот некоторые особенности и преимущества формата JSON:

- Простота чтения и записи: JSON использует простой синтаксис, основанный на парах "ключ-значение". Это делает его легко читаемым для людей и удобным для создания и обработки как на стороне разработчика, так и на стороне пользователя.

- Поддержка различных языков программирования: JSON является независимым от языка форматом, что означает, что его можно использовать для обмена данными между приложениями, написанными на разных языках программирования. Многие языки программирования предлагают встроенные функции для работы с JSON.

- Легкость передачи по сети: JSON имеет компактный размер, что делает его эффективным для передачи по сети. Это особенно полезно при обмене данными между клиентскими и серверными приложениями посредством сетевых запросов.

- Поддержка различных типов данных: JSON поддерживает несколько типов данных, включая строки, числа, логические значения, массивы и объекты. Это позволяет представлять сложные структуры данных и связи между ними.

```json
{
  "name": "John",
  "age": 30,
  "isStudent": false,
  "controller": null,
  "hobbies": ["reading", "playing guitar", "traveling"],
  "address": {
    "street": "123 Main St",
    "city": "Exampleville",
    "country": "Exampleland"
  }
}
```

<br/>

Формат JSON имеет простую синтаксическую структуру:

- Данные организованы в пары "ключ-значение". Ключи являются строками, а значения могут быть строками, числами, логическими значениями, массивами, объектами или null.
- Ключи и строки заключаются в двойные кавычки (например, "name": "John").
- Значения разделяются запятыми.
- Объекты ограничиваются фигурными скобками {}, а массивы - квадратными скобками [].

<br/>
<br/>
<br/>
<br/>

# Обработка ошибок Try Catch

```js
try {
  // Код, который может вызвать ошибку
  throw new Error("Пример ошибки");
} catch (error) {
  // Обработка ошибки
  console.log("Произошла ошибка:", error.message);
}
```

- try: Код, который потенциально может вызвать ошибку, помещается в блок try. В этом блоке вы пишете код, который будет выполнен, и если при его выполнении возникнет ошибка, то управление перейдет к блоку catch.
- catch: Блок catch следует сразу за блоком try и содержит код для обработки ошибки. Когда в блоке try возникает ошибка, управление передается блоку catch, где можно выполнить определенные действия в ответ на возникшую ошибку. В скобках после catch указывается имя переменной, которая будет содержать информацию об ошибке.
- throw: Оператор throw используется для создания нового объекта ошибки и его выбрасывания (throwing). Это позволяет вручную создавать и выбрасывать ошибки в JavaScript. Оператор throw может быть использован как внутри блока try, так и в других местах кода, где вы хотите явно указать на возникновение ошибки.

<br/>
<br/>
<br/>
<br/>

# LocalStorage и SessionStorage

localStorage и sessionStorage - это два веб-хранилища данных, доступные в браузере, которые позволяют сохранять данные на стороне клиента. Они оба предоставляют простой интерфейс для сохранения и получения данных, но есть некоторые отличия в их работе и продолжительности хранения.

localStorage:

- localStorage представляет собой постоянное хранилище данных, которое доступно после закрытия браузера и повторного открытия страницы.

  - Данные, сохраненные в localStorage, остаются доступными даже после перезагрузки страницы или закрытия браузера.
  - Данные в localStorage не имеют срока давности и могут храниться бессрочно, пока не будут явно удалены или очищены.
    sessionStorage:

- sessionStorage представляет временное хранилище данных, специфичное для текущей сессии браузера.
  - Данные, сохраненные в sessionStorage, будут доступны только в пределах текущей сессии браузера. После закрытия вкладки или браузера данные будут удалены.
  - Если вы откроете новую вкладку или окно браузера, то sessionStorage в каждой новой вкладке будет представлять отдельное хранилище данных.

<br/>

Оба localStorage и sessionStorage предоставляют следующие методы для работы с данными:

- setItem(key, value): Сохраняет значение value в хранилище под указанным ключом key.
- getItem(key): Возвращает значение из хранилища по указанному ключу key.
- removeItem(key): Удаляет значение из хранилища по указанному ключу key.
- clear(): Очищает все значения из хранилища.

```js
// Сохранение значения в localStorage
localStorage.setItem("username", "John");

// Получение значения из localStorage
const username = localStorage.getItem("username");
console.log(username); // Выводит "John"

// Удаление значения из localStorage
localStorage.removeItem("username");

// Очистка всех значений в localStorage
localStorage.clear();

// Сохранение значения в sessionStorage
sessionStorage.setItem("token", "abcd1234");

// Получение значения из sessionStorage
const token = sessionStorage.getItem("token");
console.log(token); // Выводит "abcd1234"

// Удаление значения из sessionStorage
sessionStorage.removeItem("token");

// Очистка всех значений в sessionStorage
sessionStorage.clear();
```

<br/>
<br/>
<br/>
<br/>

# Задача

Создать приложение для менеджмента доставки грузов. С возможность добавлять, удалять грузы и загружать список грузов из файла.
[Пример](/examples/10-forms/example-1)

- Подключить css

```html
<link
  rel="stylesheet"
  href="https://adilkairolla.dev/step/static/css/10-forms"
/>
```

- Добавить html

```html
<main>
  <div class="head">
    <h1>Cargo accounting system</h1>

    <div>
      <button id="add-item">Add item</button>

      <label class="file">
        <span>Load from file</span>

        <input type="file" id="file-input" />
      </label>
    </div>
  </div>

  <table>
    <thead>
      <tr>
        <th>Title</th>
        <th>Price</th>
        <th>Amount</th>
        <th>Status</th>
        <th></th>
      </tr>
    </thead>
    <tbody id="tbody"></tbody>
  </table>
</main>
```

### Требования

Отображение таблицы с товарами:

- При нажатии на кнопку "Add item" открывается модальное окно.

  - В модальном окне отображается форма с полями для заполнения: "Title" (название), "Price" (цена), "Amount" (количество), "Status" (статус).
  - Все поля формы обязательны для заполнения.
  - После заполнения формы и нажатия на кнопку "Add", новый товар добавляется в таблицу и сохраняется в локальное хранилище браузера.
  - После добавления товара модальное окно закрывается.

- Модальное окно:

  - Модальное окно используется для отображения формы добавления товара.
  - При открытии модального окна все остальные элементы страницы должны быть затемнены и недоступны для взаимодействия.
  - При клике на затемненную область вокруг модального окна, окно должно закрываться.

- Таблица должна содержать столбцы "Title" (название товара), "Price" (цена), "Amount" (количество), "Status" (статус).

  - Каждая строка таблицы представляет отдельный товар с соответствующими значениями.
  - Данные для таблицы загружаются из локального хранилища браузера.
  - Если в хранилище нет данных о товарах, таблица должна быть пустой.
  - Добавление товара:

- Удаление товара:

  - В каждой строке таблицы должна быть кнопка "Remove", при нажатии на которую товар удаляется из таблицы и из локального хранилища браузера.

- Загрузка товаров из файла:

  - При выборе файла с помощью элемента input type="file" данные о товарах загружаются из файла.
  - Файл должен быть в формате JSON, содержащий массив объектов с полями "title", "price", "amount" и "status".
  - Загруженные товары добавляются в таблицу и сохраняются в локальное хранилище браузера.
